<% content_for :css do %>
  <%= stylesheet_link_tag 'form' %>
<% end %>

<main id="main">
  <section id="contact" class="contact">
    <div class="container">
      <div class="section-title">
        <h2>新規登録</h2>
      </div>
      <div class="row mt-5 justify-content-center">
        <div class="col-lg-8 mt-5 mt-lg-0">
          <%= form_with model: @user, url: user_registration_path, id: 'new_user', class: "user-form", method: :post do |f|  %>
            <div class="row">
              <div class="col-md-6 form-group">
                <%= f.text_field :username, autofocus: true, autocomplete: "username", class: "form-control", placeholder: "アカウント名" %>
                <% if @user.errors.include?(:username) %>
                  <p style="color: red;"><%= @user.errors.full_messages_for(:username).first %></p>
                <% end %>
              </div>
              <div class="col-md-6 form-group mt-3 mt-md-0">
                <%= f.email_field :email, autocomplete: "email", class: "form-control", placeholder: "メールアドレス" %>
                <% if @user.errors.include?(:email) %>
                  <p style="color: red;"><%= @user.errors.full_messages_for(:email).first %></p>
                <% end %>
              </div>
            </div>
            <div class="form-group mt-3">
              <%= f.password_field :password, class: "form-control", placeholder: "パスワード" %>
              <% if @user.errors.include?(:password) %>
                  <p style="color: red;"><%= @user.errors.full_messages_for(:password).first %></p>
                <% end %>
            </div>
            <div class="form-group mt-3">
              <%= f.password_field :password_confirmation, class: "form-control", placeholder: "パスワード確認" %>
              <% if @user.errors.include?(:password_confirmation) %>
                  <p style="color: red;"><%= @user.errors.full_messages_for(:password_confirmation).first %></p>
                <% end %>
            </div>
            <div class="row text-center justify-content-center">
              <%= f.submit "新規登録", class: "submit-btn col-md-6 col-xs-10" %>
            </div>
          <% end %>
          <div class="row text-center justify-content-center">
              <span>または</span>
              <%= button_to "Googleでログイン", user_google_oauth2_omniauth_authorize_path, class: "btn-link col-md-6 col-12"%>
              <%= button_to "ゲストログイン", guest_sign_in_path, class: "btn-link col-md-6 col-12" %>
              <%= link_to "ログインはこちら", new_user_session_path %>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
